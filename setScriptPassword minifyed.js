"use strict";const bulletHeader=document.querySelector("#txt-bullet-header"),bulletSerialNum=document.querySelector("#txt-bullet-serial-num"),bulletSyncDirective=document.querySelector("#txt-bullet-sync-directive");function eraseBillboard(){bulletHeader.textContent="",bulletSerialNum.textContent="",bulletSyncDirective.textContent=""}function reportHardwareStatus(){eraseBillboard(),bulletHeader.textContent="Hardware Serialization Status:";const e=fetchSerialNumFromLocSto();console.log("serializationStatus: ",{serializationStatus:e}),bulletSerialNum.style.color="red",null===e?bulletSerialNum.textContent="null":""===e?bulletSerialNum.textContent="erased":void 0===e?bulletSerialNum.textContent="unformatted":(bulletSerialNum.style.color="lightgreen",bulletSerialNum.textContent=`Serial Number found: ${e}`);const t=getPairDirectiveFromLocSto();console.log("syncDirectiveStatus: ",{syncDirectiveStatus:t}),bulletSyncDirective.textContent=null===t?"Pair Directive value: null":""===t?"Pair Sync Directive value: erased":void 0===t?"Pair Sync Directive value: unformatted":`Sync Directive value: ${t}`}window.onload=function(){reportHardwareStatus()};const serialNumInputBox=document.querySelector("#master-key");function saveSerialNumToLocSto(){window.localStorage.setItem("hardwareSerialNum",JSON.stringify(serialNumInputBox.value))}function fetchSerialNumFromLocSto(){return JSON.parse(window.localStorage.getItem("hardwareSerialNum"))}function getPairDirectiveFromLocSto(){return JSON.parse(window.localStorage.getItem("pairScriptToPC"))}function savePairDirectiveToLocSto(e){window.localStorage.setItem("pairScriptToPC",JSON.stringify(e))}function reportSerializationOutcome(){eraseBillboard(),bulletHeader.textContent="Serial Number set to:";const e=fetchSerialNumFromLocSto();bulletSerialNum.textContent=e;const t=getPairDirectiveFromLocSto();bulletSyncDirective.innerText=`Pair Directive set to: ${t}`}function markPCwithHWSerialNum(){if(""===serialNumInputBox.value)return bulletSerialNum.style.color="red",void(bulletSerialNum.textContent="Error! Serial Number required. Try again.");saveSerialNumToLocSto(),bulletSerialNum.style.color="lightgreen",savePairDirectiveToLocSto(!0);serialNumInputBox.value="",reportSerializationOutcome()}const serializeBtn=document.querySelector("#serialize-btn");function reportDeserializationOutcome(){eraseBillboard(),bulletHeader.textContent="De-serialization outcome:",""===fetchSerialNumFromLocSto()?(bulletSerialNum.style.color="lightgreen",bulletSerialNum.textContent="Serial Number Deleted"):(bulletSerialNum.style.color="red",bulletSerialNum.textContent="Erasure Failed");const e=getPairDirectiveFromLocSto();bulletSyncDirective.innerText=`Pair Sync Directive value: ${e}`}function erasePC_HWSerialNum(){window.localStorage.setItem("hardwareSerialNum",JSON.stringify(""));savePairDirectiveToLocSto(!1),reportDeserializationOutcome()}serializeBtn.addEventListener("click",markPCwithHWSerialNum);const unserializeBtn=document.querySelector("#unserialize-btn");function toggleVisualFeedback(){eraseBillboard(),bulletHeader.textContent="Serial Number after flag toggle:";const e=fetchSerialNumFromLocSto();bulletSerialNum.style.color="red",null===e?bulletSerialNum.textContent="null":""===e?bulletSerialNum.textContent="erased":void 0===e?bulletSerialNum.textContent="unformatted":(bulletSerialNum.style.color="lightgreen",bulletSerialNum.textContent=`Serial Number still the same: ${e}`);const t=getPairDirectiveFromLocSto();bulletSyncDirective.textContent=null===t?"Sync Directive remained as: null":""===t?"Sync Directive remained as: erased":void 0===t?"Sync Directive remained as: unformatted":`Sync Directive toggled to: ${t}`}function toggleSyncFlag(){const e=getPairDirectiveFromLocSto();if(!0===e){savePairDirectiveToLocSto(!1)}else if(!1===e){savePairDirectiveToLocSto(!0)}toggleVisualFeedback()}unserializeBtn.addEventListener("click",erasePC_HWSerialNum);const toggleSyncBtn=document.querySelector("#toggle-sync-btn");function whipeLocSto(){window.localStorage.clear(),eraseBillboard(),reportHardwareStatus()}toggleSyncBtn.addEventListener("click",toggleSyncFlag),document.querySelector("#whipe-localstorage-btn").addEventListener("click",whipeLocSto);